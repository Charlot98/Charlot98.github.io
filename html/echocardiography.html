<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>超声心动图报告生成器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- 主内容区 -->
        <div class="main-content">
            <h2 class="section-title">参数输入</h2>
            
            <!-- 1. M型参数 -->
            <div class="parameters-section">
                <div class="parameters-section-header">
                    <h3 class="parameters-section-title">1. M型</h3>
                    <div class="header-controls">
                        <div class="reference-range-select-wrapper">
                            <label class="reference-range-label">参考：</label>
                            <select id="referenceRangeSelect" class="reference-range-select">
                                <option value="">请选择</option>
                                <option value="M型">M型（犬≤3kg）</option>
                                <option value="非M型">非M型（犬＞3kg）</option>
                                <option value="金毛">金毛</option>
                                <option value="猫">猫</option>
                            </select>
                        </div>
                        <div class="weight-input-wrapper">
                            <label class="weight-label">体重：</label>
                            <input type="text" id="weightInput" class="weight-input" data-param="体重" placeholder="kg">
                        </div>
                    </div>
                </div>
                <div class="m-type-grid">
                    <div class="m-type-item">
                        <label class="m-type-label">
                            IVSd
                            <span class="reference-value" data-param="IVSd" data-csv-key="IVSd"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="IVSd" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">
                            LVDd
                            <span class="reference-value" data-param="LVDd" data-csv-key="LVDd"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="LVDd" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">
                            LVWd
                            <span class="reference-value" data-param="LVPWd" data-csv-key="LVWd"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="LVPWd" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">
                            IVSs
                            <span class="reference-value" data-param="IVSs" data-csv-key="IVSs"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="IVSs" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">
                            LVDs
                            <span class="reference-value" data-param="LVDs" data-csv-key="LVDs"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="LVDs" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">
                            LVWs
                            <span class="reference-value" data-param="LVPWs" data-csv-key="LVWs"></span>
                        </label>
                        <input type="text" class="m-type-input" data-param="LVPWs" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item m-type-item-combined">
                        <label class="m-type-label">EDV</label>
                        <div class="combined-input-wrapper">
                            <input type="text" class="m-type-input" data-param="EDV" placeholder="请输入数值">
                            <div class="display-with-label">
                                <label class="display-label">EDVI</label>
                                <span class="m-type-display-small" id="edviDisplay">-</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-type-item m-type-item-combined">
                        <label class="m-type-label">ESV</label>
                        <div class="combined-input-wrapper">
                            <input type="text" class="m-type-input" data-param="ESV" placeholder="请输入数值">
                            <div class="display-with-label">
                                <label class="display-label">ESVI</label>
                                <span class="m-type-display-small" id="esviDisplay">-</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">FS</label>
                        <input type="text" class="m-type-input" data-param="FS" placeholder="请输入数值">
                    </div>
                    <div class="m-type-item">
                        <label class="m-type-label">EF</label>
                        <input type="text" class="m-type-input" data-param="EF" placeholder="请输入数值">
                    </div>
                </div>
            </div>

            <!-- 2. 瓣膜异常 -->
            <div class="parameters-section">
                <h3 class="parameters-section-title">2. 瓣膜异常</h3>
                <div class="other-params-grid">
                    <div class="other-param-item">
                        <label class="other-param-label">LA</label>
                        <input type="text" class="other-param-input" data-param="LA" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">Ao</label>
                        <input type="text" class="other-param-input" data-param="Ao" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">LA/Ao</label>
                        <input type="text" class="other-param-input" data-param="LA/Ao" placeholder="请输入数值">
                    </div>
                </div>
                <!-- MMVD特定输入框 -->
                <div class="other-params-grid" id="mmvdSpecificInputs" style="display: none;">
                    <div class="other-param-item">
                        <label class="other-param-label">二尖瓣前叶厚度 (mm)</label>
                        <input type="text" class="other-param-input" data-param="二尖瓣前叶厚度" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">增厚程度</label>
                        <select class="other-param-input" data-param="增厚程度">
                            <option value="">请选择</option>
                            <option value="轻度（30%以下）">轻度（30%以下）</option>
                            <option value="中度（30-70%）">中度（30-70%）</option>
                            <option value="重度（70%以上）">重度（70%以上）</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- 3. 彩色多普勒 -->
            <div class="parameters-section">
                <h3 class="parameters-section-title">3. 彩色多普勒</h3>
                <div class="other-params-grid">
                    <div class="other-param-item">
                        <label class="other-param-label">PV</label>
                        <input type="text" class="other-param-input" data-param="PV" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">AV</label>
                        <input type="text" class="other-param-input" data-param="AV" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">E</label>
                        <input type="text" class="other-param-input" data-param="E" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">A</label>
                        <input type="text" class="other-param-input" data-param="A" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">E/A</label>
                        <input type="text" class="other-param-input" data-param="E/A" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">EA融合</label>
                        <input type="text" class="other-param-input" data-param="EA融合" placeholder="请输入数值">
                    </div>
                    <div class="other-param-item">
                        <label class="other-param-label">E/E'</label>
                        <input type="text" class="other-param-input" data-param="E/E'" placeholder="请输入数值">
                    </div>
                </div>
                <!-- 动态添加的标签页输入框 -->
                <div class="other-params-grid" id="dynamicTagInputs"></div>
            </div>

            <!-- 模板生成区域 -->
            <div class="template-section">
                <h4>所见</h4>
                <div class="template-text" id="findingsText">请选择疾病类型和参考，模板将自动生成。</div>
                
                <h4 style="margin-top: 24px;">结论</h4>
                <div class="template-text" id="conclusionText">请选择疾病类型和参考，模板将自动生成。</div>
                
                <button class="copy-button" id="copyButton">复制模板</button>
            </div>
        </div>

        <!-- 右侧栏 -->
        <div class="sidebar">
            <div class="form-group">
                <h3>疾病类型</h3>
                <div class="disease-buttons">
                    <button class="disease-button" data-value="MMVD">MMVD</button>
                    <button class="disease-button" data-value="DCM">DCM</button>
                    <button class="disease-button" data-value="HCM">HCM</button>
                    <button class="disease-button" data-value="RCM">RCM</button>
                    <button class="disease-button" data-value="Health">健康</button>
                </div>
            </div>
            <div class="form-group">
                <h3>标签页</h3>
                <div class="tag-buttons">
                    <!-- 血液反流分类（红色边框） -->
                    <button class="tag-button tag-button-red" data-tag="二尖瓣反流">二尖瓣反流</button>
                    <button class="tag-button tag-button-red" data-tag="三尖瓣反流">三尖瓣反流</button>
                    <button class="tag-button tag-button-red" data-tag="主动脉瓣反流">主动脉瓣反流</button>
                    <button class="tag-button tag-button-red" data-tag="肺动脉瓣反流">肺动脉瓣反流</button>
                    
                    <!-- 特殊征象分类（蓝色边框） -->
                    <button class="tag-button tag-button-blue" data-tag="SAM">SAM</button>
                    <button class="tag-button tag-button-blue" data-tag="CAM">CAM</button>
                    <button class="tag-button tag-button-blue" data-tag="假腱索">假腱索</button>
                    <button class="tag-button tag-button-blue" data-tag="左心室辛普森">左心室辛普森</button>
                    <button class="tag-button tag-button-blue" data-tag="左心房容量">左心房容量</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
